<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B-STREET x KALAKRITI | Login & Admissions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root { --accent: #ff0000; }
        body { font-family: 'Inter', sans-serif; background: #000; color: #fff; overflow-x: hidden; scroll-behavior: smooth; }
        .heading-font { font-family: 'Syncopate', sans-serif; text-transform: uppercase; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.1); }
        
        @media (min-width: 1024px) {
            body { cursor: none; }
            .cursor-dot { width: 8px; height: 8px; background: var(--accent); position: fixed; border-radius: 50%; pointer-events: none; z-index: 10000; }
            .cursor-outline { width: 35px; height: 35px; border: 1px solid rgba(255,255,255,0.5); position: fixed; border-radius: 50%; pointer-events: none; z-index: 9999; transition: transform 0.15s ease-out; }
        }

        .section-bg img { width: 100%; height: 100%; object-fit: cover; filter: brightness(0.4); position: absolute; z-index: -1; }
        .hidden-section { display: none; }
    </style>
</head>
<body>

    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <nav class="fixed w-full z-[100] bg-black/80 backdrop-blur-xl border-b border-white/5">
        <div class="px-6 py-4 flex justify-between items-center">
            <div class="heading-font text-lg font-bold">B-STREET<span class="text-red-600">.</span></div>
            <div class="flex items-center gap-6">
                <button onclick="toggleAuth('login')" class="text-[10px] uppercase font-bold tracking-widest hover:text-red-600">Login</button>
                <button onclick="toggleAuth('register')" class="bg-red-600 px-4 py-2 text-[10px] uppercase font-bold tracking-widest hover:bg-white hover:text-black transition">Register</button>
                <button id="adminBtn" onclick="openAdmin()" class="hidden text-red-600 text-[10px] font-bold">DASHBOARD</button>
            </div>
        </div>
    </nav>

    <div id="authModal" class="hidden fixed inset-0 z-[200] flex items-center justify-center bg-black/90 p-4">
        <div class="glass w-full max-w-md p-8 rounded-3xl relative">
            <button onclick="closeAuth()" class="absolute top-4 right-6 text-2xl">&times;</button>
            <h2 id="authTitle" class="heading-font text-2xl mb-6 text-red-600 text-center">Login</h2>
            <form id="authForm" class="space-y-4">
                <input type="email" id="authEmail" placeholder="Email Address" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-red-600">
                <input type="password" id="authPass" placeholder="Password" class="w-full bg-white/5 border border-white/10 p-4 rounded-xl outline-none focus:border-red-600">
                <button type="button" onclick="handleAuth()" id="authSubmit" class="w-full bg-red-600 py-4 rounded-xl heading-font text-[10px] font-bold tracking-widest">Submit</button>
            </form>
        </div>
    </div>

    <section class="relative h-[100svh] flex items-center px-6 md:px-24">
        <div class="section-bg"><img src="https://images.unsplash.com/photo-1508700115892-45ecd05ae2ad?auto=format&fit=crop&q=80&w=2000" alt="Dance"></div>
        <div class="z-10">
            <h1 class="heading-font text-5xl md:text-8xl mb-4">DANCE <br> <span class="text-transparent" style="-webkit-text-stroke: 1px white;">x ART</span></h1>
            <p id="userWelcome" class="text-red-600 text-[12px] tracking-[0.4em] uppercase font-bold mb-8">Kalyani's Premier Art Academy</p>
            <a href="#admission" class="bg-red-600 px-10 py-4 heading-font text-[10px] tracking-widest inline-block font-bold">Start Admission</a>
        </div>
    </section>

    <section id="admission" class="py-24 px-4 flex items-center justify-center bg-[#050505]">
        <div class="glass w-full max-w-2xl p-10 rounded-3xl">
            <div class="text-center mb-10">
                <h2 class="heading-font text-2xl">Admission Form</h2>
                <p class="text-[10px] text-red-600 mt-2 uppercase">Please login to submit</p>
            </div>
            <form class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <input type="text" id="adm_name" placeholder="Student Name" class="bg-white/5 border border-white/10 p-4 rounded-xl text-sm">
                <input type="tel" id="adm_phone" placeholder="Mobile Number" class="bg-white/5 border border-white/10 p-4 rounded-xl text-sm">
                <select id="adm_course" class="bg-black border border-white/10 p-4 rounded-xl text-sm md:col-span-2">
                    <option>Dance Academy</option>
                    <option>Music/Guitar</option>
                    <option>Yoga & Zumba</option>
                    <option>Fine Arts</option>
                </select>
                <button type="button" onclick="submitAdmission()" class="md:col-span-2 bg-red-600 py-4 rounded-xl heading-font text-[10px] font-bold tracking-widest">Confirm Admission</button>
            </form>
        </div>
    </section>

    <div id="adminPanel" class="hidden fixed inset-0 z-[300] bg-black p-6 md:p-20 overflow-y-auto">
        <div class="flex justify-between items-center mb-10">
            <h1 class="heading-font text-3xl">Admin Console</h1>
            <button onclick="closeAdmin()" class="bg-red-600 px-6 py-2 rounded-lg text-xs font-bold">Close</button>
        </div>
        <div class="glass p-6 rounded-2xl">
            <h3 class="text-red-600 mb-6 uppercase text-xs font-bold tracking-widest">Recent Admissions</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-left">
                    <thead>
                        <tr class="text-gray-500 text-[10px] uppercase border-b border-white/10">
                            <th class="pb-4">Name</th><th class="pb-4">Phone</th><th class="pb-4">Course</th><th class="pb-4">Date</th>
                        </tr>
                    </thead>
                    <tbody id="adminTableBody" class="text-sm">
                        </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        let currentUser = null;
        let mode = 'login';

        // 1. Auth Management
        function toggleAuth(m) {
            mode = m;
            document.getElementById('authTitle').innerText = mode === 'login' ? 'Login' : 'Register';
            document.getElementById('authModal').classList.remove('hidden');
        }

        function closeAuth() { document.getElementById('authModal').classList.add('hidden'); }

        function handleAuth() {
            const email = document.getElementById('authEmail').value;
            const pass = document.getElementById('authPass').value;
            
            if(email && pass) {
                currentUser = email;
                localStorage.setItem('user', email);
                document.getElementById('userWelcome').innerText = `Welcome, ${email.split('@')[0]}`;
                if(email === 'admin@bstreet.com') document.getElementById('adminBtn').classList.remove('hidden');
                closeAuth();
                alert(`${mode === 'login' ? 'Logged In' : 'Registered'} Successfully!`);
            }
        }

        // 2. Admission Logic
        function submitAdmission() {
            if(!localStorage.getItem('user')) {
                alert("Please Login first to submit admission!");
                toggleAuth('login');
                return;
            }

            const name = document.getElementById('adm_name').value;
            const phone = document.getElementById('adm_phone').value;
            const course = document.getElementById('adm_course').value;

            if(name && phone) {
                const lead = { name, phone, course, date: new Date().toLocaleDateString() };
                let leads = JSON.parse(localStorage.getItem('leads')) || [];
                leads.push(lead);
                localStorage.setItem('leads', JSON.stringify(leads));
                
                alert("Admission Submitted Locally! Redirecting to WhatsApp...");
                window.open(`https://wa.me/918100565299?text=Admission Request: ${name}, ${course}`, '_blank');
            }
        }

        // 3. Admin Panel
        function openAdmin() {
            const leads = JSON.parse(localStorage.getItem('leads')) || [];
            const tbody = document.getElementById('adminTableBody');
            tbody.innerHTML = leads.map(l => `
                <tr class="border-b border-white/5">
                    <td class="py-4">${l.name}</td><td>${l.phone}</td><td>${l.course}</td><td>${l.date}</td>
                </tr>
            `).join('');
            document.getElementById('adminPanel').classList.remove('hidden');
        }

        function closeAdmin() { document.getElementById('adminPanel').classList.add('hidden'); }

        // Cursor Animation
        const dot = document.querySelector('.cursor-dot');
        const outline = document.querySelector('.cursor-outline');
        window.addEventListener('mousemove', (e) => {
            gsap.to(dot, { x: e.clientX, y: e.clientY, duration: 0 });
            gsap.to(outline, { x: e.clientX - 14, y: e.clientY - 14, duration: 0.15 });
        });
    </script>
</body>
</html>
